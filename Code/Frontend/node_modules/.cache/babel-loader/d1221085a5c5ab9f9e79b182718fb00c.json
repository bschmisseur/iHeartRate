{"ast":null,"code":"import _slicedToArray from\"/Users/bryceschmisseur/Documents/CST-452/IHeartRate/frontend-fire/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import HeartSerivce from'./../services/HeartRateService';import SideBar from'../components/Navigation/SideBar';import{makeStyles}from'@material-ui/core';import Grid from'@material-ui/core/Grid';import Cookies from'universal-cookie';import BPMCard from'./../components/Dashboard/BPMCard';import Table from'./../components/Dashboard/Table';import Graph from'./../components/Dashboard/Graph';import NoData from'./../components/Dashboard/NoData';import moment from'moment';import Heading from'./../components/Dashboard/Heading';import Footer from'./../components/Navigation/Footer';import useMediaQuery from'@material-ui/core/useMediaQuery';import SelectDates from'./../components/Dashboard/SelectDates';import LoadingPage from'./../components/Navigation/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{content:{paddingTop:'25px',paddingRight:'25px',paddingLeft:'110px','@media (min-width: 900px)':{paddingLeft:'265px'}},gridClass:{height:\"\",'@media (min-width: 1150px)':{height:'76vh'}},footerClass:{'@media (min-width: 1150px)':{position:'absolute',bottom:'0',width:'calc(100% - 110px)','@media (min-width: 900px)':{width:'calc(100% - 265px)'}}},welcome:{textAlign:'left',fontWeight:'300',fontSize:'28px'},output:{textAlign:'left',fontWeight:'100',fontSize:'22px'}};});function createData(unNum,bpm,date){return{unNum:unNum,bpm:bpm,date:date};}var Dashboard=function Dashboard(){var matchWidth=useMediaQuery('(min-width:1150px)');var matchWidthSec=useMediaQuery('(min-width:600px)');var classes=useStyles();var cookies=new Cookies();var curAppleId=cookies.get('currAppleId');var displayName=cookies.get('displayName');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heartData=_useState2[0],setHeartData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),rowsPerPage=_useState8[0],setRowsPerPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openNoData=_useState10[0],setOpenNoData=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),datesButtonDis=_useState12[0],setDatesButtonDis=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),openDate=_useState14[0],setOpenDate=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),avgRate=_useState16[0],setAvgRate=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),lastRec=_useState18[0],setLastRec=_useState18[1];var _useState19=useState(new Date()),_useState20=_slicedToArray(_useState19,2),selectedDateFrom=_useState20[0],setSelectedDateFrom=_useState20[1];var _useState21=useState(new Date()),_useState22=_slicedToArray(_useState21,2),selectedDateTo=_useState22[0],setSelectedDateTo=_useState22[1];var _useState23=useState(JSON.parse(\"{}\")),_useState24=_slicedToArray(_useState23,2),data=_useState24[0],setData=_useState24[1];var _useState25=useState('full'),_useState26=_slicedToArray(_useState25,2),viewData=_useState26[0],setViewData=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isLoadingPage=_useState28[0],setIsLoadingPage=_useState28[1];if(cookies.get('currAppleId')===undefined){window.location.href='/';}useEffect(function(){setIsLoadingPage(true);HeartSerivce.getUsers(curAppleId).then(function(response){var arr=[];Object.keys(response.data).forEach(function(key){var currDate=moment(response.data[key].date);var HeartRate={bpm:response.data[key].bpm,date:currDate,user_id:response.data[key].userid};arr.push(HeartRate);});var arrTable=arr.reverse();if(arrTable.length<=0){setDatesButtonDis(true);setOpenNoData(true);}else{setLastRec(arrTable[0].bpm);setHeartData(arrTable);var _data=[];for(var i=0;i<arrTable.length;i++){_data.push(createData(i,arrTable[i].bpm,arrTable[i].date.format('lll')));}setRows(_data);var chartdata=\"{\";var currAveRate=0;for(var _i=page*rowsPerPage;_i<page*rowsPerPage+rowsPerPage;_i++){if(_i>arrTable.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=arrTable[_i].bpm;chartdata+='\"'+arrTable[_i].date.format('MMM D h:m.s')+'\": '+arrTable[_i].bpm;if(_i!==page*rowsPerPage+rowsPerPage-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/rowsPerPage));}});setIsLoadingPage(false);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);generteGraphData(heartData,rows.length,rowsPerPage,newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);//updateGraph(0, +event.target.value, heartData);\ngenerteGraphData(heartData,rows.length,+event.target.value,page);};var handleCloseNoData=function handleCloseNoData(){setOpenNoData(false);};var handleClickOpenDate=function handleClickOpenDate(){setOpenDate(true);};var handleCloseDate=function handleCloseDate(){var dateFrom=moment(selectedDateFrom);var dateTo=moment(selectedDateTo);if(dateFrom.isAfter(dateTo)||dateTo.isBefore(dateFrom)){alert(\"The date start must not be after the end date or the end date must not be before the start date!\");}else{setOpenDate(false);var tableData=[];var chartData=\"{\";var heartRates=0;var numRates=0;for(var i=0;i<heartData.length;i++){var currDate=heartData[i].date;if(currDate.isAfter(dateFrom)&&currDate.isBefore(dateTo)){heartRates+=heartData[i].bpm;numRates++;tableData.push(createData(i,heartData[i].bpm,heartData[i].date.format('lll')));chartData+='\"'+heartData[i].date.format('MMM D, YYYY h:m.s')+'\": '+heartData[i].bpm+',';}}if(numRates>0){setAvgRate(Math.round(heartRates/numRates));chartData=chartData.substring(0,chartData.length-1);chartData+=\"}\";setRows(tableData);setPage(0);setRowsPerPage(-1);setData(JSON.parse(chartData));}else{setOpenDate(true);alert(\"No data found between those dates\");}}};var handleDateChangeFrom=function handleDateChangeFrom(date){setSelectedDateFrom(date);};var handleDateChangeTo=function handleDateChangeTo(date){setSelectedDateTo(date);};var handleReset=function handleReset(){setOpenDate(false);setRowsPerPage(10);setPage(0);generteGraphData(heartData,heartData.length,10,0);};var handelRefresh=function handelRefresh(){setViewData(\"full\");HeartSerivce.getUsers(curAppleId).then(function(response){var arr=[];Object.keys(response.data).forEach(function(key){var currDate=moment(response.data[key].date);var HeartRate={bpm:response.data[key].bpm,date:currDate,user_id:response.data[key].userid};arr.push(HeartRate);});var arrTable=arr.reverse();setLastRec(arrTable[0].bpm);if(arrTable.length<=0){setDatesButtonDis(true);setOpenNoData(true);}else{setHeartData(arrTable);var _data2=[];for(var i=0;i<arrTable.length;i++){_data2.push(createData(i,arrTable[i].bpm,arrTable[i].date.format('lll')));}setRows(_data2);var chartdata=\"{\";var currAveRate=0;for(var _i2=page*rowsPerPage;_i2<page*rowsPerPage+rowsPerPage;_i2++){if(_i2>arrTable.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=arrTable[_i2].bpm;chartdata+='\"'+arrTable[_i2].date.format('MMM D h:m.s')+'\": '+arrTable[_i2].bpm;if(_i2!==page*rowsPerPage+rowsPerPage-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/rowsPerPage));}});};var handleTableClick=function handleTableClick(){setViewData(\"table\");};var handleGraphClick=function handleGraphClick(){setViewData(\"graph\");};var generteGraphData=function generteGraphData(tableData,length,numElements,page){if(numElements!==-1){var chartdata=\"{\";var currAveRate=0;for(var i=page*numElements;i<page*numElements+numElements;i++){if(i>tableData.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=tableData[i].bpm;chartdata+='\"'+tableData[i].date.format('MMM D h:m.s')+'\": '+tableData[i].bpm;if(i!==page*numElements+numElements-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/numElements));}else{var _chartdata=\"{\";var _currAveRate=0;for(var _i3=0;_i3<length;_i3++){_currAveRate+=tableData[_i3].bpm;_chartdata+='\"'+tableData[_i3].date.format('MMM D h:m.s')+'\": '+tableData[_i3].bpm;if(_i3!==length-1){_chartdata+=\",\";}}_chartdata+=\"}\";setData(JSON.parse(_chartdata));setAvgRate(Math.round(_currAveRate/length));}};var body=/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.gridClass,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidth?6:12,style:{padding:'10px',height:'100%'},children:/*#__PURE__*/_jsx(Table,{rows:rows,page:page,rowsPerPage:rowsPerPage,handleChangePage:handleChangePage,handleChangeRowsPerPage:handleChangeRowsPerPage})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:matchWidth?6:12,children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px'},children:/*#__PURE__*/_jsx(Graph,{data:data})}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidthSec?6:12,children:/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:'10px',paddingLeft:'10px',paddingTop:'10px',width:'100%'},children:/*#__PURE__*/_jsx(BPMCard,{title:\"Average Heart Rate\",bpm:avgRate})})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidthSec?6:12,children:/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:'10px',paddingLeft:'10px',paddingTop:'10px',width:'100%'},children:/*#__PURE__*/_jsx(BPMCard,{title:\"Last Recoded Heart Rate\",bpm:lastRec})})})]})]})]});if(viewData===\"table\"){body=/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',height:'77vh',width:'100%'},children:/*#__PURE__*/_jsx(Table,{rows:rows,page:page,rowsPerPage:rowsPerPage,handleChangePage:handleChangePage,handleChangeRowsPerPage:handleChangeRowsPerPage})});}else if(viewData===\"graph\"){body=/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',width:'100%'},children:/*#__PURE__*/_jsx(Graph,{height:'66vh',data:data})});}// var footer = <div className={classes.footerClass}>\n//             <Footer />\n//         </div>\n// if (matchWidthSec){\n//     footer = <Footer />\n// }\nvar footer=/*#__PURE__*/_jsx(Footer,{});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LoadingPage,{open:isLoadingPage}),/*#__PURE__*/_jsx(NoData,{displayName:displayName,openNoData:openNoData,setOpenNoData:setOpenNoData,handleCloseNoData:handleCloseNoData}),/*#__PURE__*/_jsx(SelectDates,{openDate:openDate,handleCloseDate:handleCloseDate,selectedDateFrom:selectedDateFrom,selectedDateTo:selectedDateTo,handleDateChangeFrom:handleDateChangeFrom,handleDateChangeTo:handleDateChangeTo,handleReset:handleReset}),/*#__PURE__*/_jsx(SideBar,{handleTableClick:handleTableClick,handleGraphClick:handleGraphClick}),/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsxs(\"div\",{classes:classes.smallContent,children:[/*#__PURE__*/_jsx(Heading,{displayName:displayName,datesButtonDis:datesButtonDis,handleClickOpenDate:handleClickOpenDate,handelRefresh:handelRefresh}),body]}),footer]})]});};export default Dashboard;","map":{"version":3,"sources":["/Users/bryceschmisseur/Documents/CST-452/IHeartRate/frontend-fire/src/pages/Dashboard.js"],"names":["useState","useEffect","HeartSerivce","SideBar","makeStyles","Grid","Cookies","BPMCard","Table","Graph","NoData","moment","Heading","Footer","useMediaQuery","SelectDates","LoadingPage","useStyles","theme","content","paddingTop","paddingRight","paddingLeft","gridClass","height","footerClass","position","bottom","width","welcome","textAlign","fontWeight","fontSize","output","createData","unNum","bpm","date","Dashboard","matchWidth","matchWidthSec","classes","cookies","curAppleId","get","displayName","heartData","setHeartData","rows","setRows","page","setPage","rowsPerPage","setRowsPerPage","openNoData","setOpenNoData","datesButtonDis","setDatesButtonDis","openDate","setOpenDate","avgRate","setAvgRate","lastRec","setLastRec","Date","selectedDateFrom","setSelectedDateFrom","selectedDateTo","setSelectedDateTo","JSON","parse","data","setData","viewData","setViewData","isLoadingPage","setIsLoadingPage","undefined","window","location","href","getUsers","then","response","arr","Object","keys","forEach","key","currDate","HeartRate","user_id","userid","push","arrTable","reverse","length","i","format","chartdata","currAveRate","substr","Math","round","handleChangePage","event","newPage","generteGraphData","handleChangeRowsPerPage","target","value","handleCloseNoData","handleClickOpenDate","handleCloseDate","dateFrom","dateTo","isAfter","isBefore","alert","tableData","chartData","heartRates","numRates","substring","handleDateChangeFrom","handleDateChangeTo","handleReset","handelRefresh","handleTableClick","handleGraphClick","numElements","body","padding","footer","smallContent"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport HeartSerivce from './../services/HeartRateService';\nimport SideBar from '../components/Navigation/SideBar';\nimport { makeStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Cookies from 'universal-cookie';\nimport BPMCard from './../components/Dashboard/BPMCard';\nimport Table from './../components/Dashboard/Table';\nimport Graph from './../components/Dashboard/Graph';\nimport NoData from './../components/Dashboard/NoData';\nimport moment from 'moment';\nimport Heading from './../components/Dashboard/Heading';\nimport Footer from './../components/Navigation/Footer';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport SelectDates from './../components/Dashboard/SelectDates';\nimport LoadingPage from './../components/Navigation/Loading';\n\n\nconst useStyles = makeStyles((theme) => ({\n    content: {\n        paddingTop: '25px',\n        paddingRight: '25px',\n        paddingLeft: '110px',\n        '@media (min-width: 900px)': {\n            paddingLeft: '265px',\n          }, \n    },\n    gridClass: {\n        height: \"\",\n        '@media (min-width: 1150px)': {\n            height: '76vh'\n          }, \n    },\n    footerClass: {\n        '@media (min-width: 1150px)': {\n            position: 'absolute', \n            bottom: '0', \n            width: 'calc(100% - 110px)',\n            '@media (min-width: 900px)': {\n                width: 'calc(100% - 265px)',\n            }, \n        }\n    },\n    welcome: {\n        textAlign: 'left',\n        fontWeight: '300',\n        fontSize: '28px'\n    },\n    output: {\n        textAlign: 'left',\n        fontWeight: '100',\n        fontSize: '22px'\n    },\n}));\n\nfunction createData(unNum, bpm, date) {\n    return {unNum, bpm, date };\n}\n\nconst Dashboard = () => {\n    const matchWidth = useMediaQuery('(min-width:1150px)');\n    const matchWidthSec = useMediaQuery('(min-width:600px)');\n\n    const classes = useStyles();\n    const cookies = new Cookies();\n    const curAppleId = cookies.get('currAppleId');\n    const displayName = cookies.get('displayName');\n    const [heartData, setHeartData] = useState([]);\n    const [rows, setRows] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [openNoData, setOpenNoData] = useState(false);\n    const [datesButtonDis, setDatesButtonDis] = useState(false);\n    const [openDate, setOpenDate] = useState(false);\n    const [avgRate, setAvgRate] = useState(0);\n    const [lastRec, setLastRec] = useState(0);\n    const [selectedDateFrom, setSelectedDateFrom] = useState(new Date());\n    const [selectedDateTo, setSelectedDateTo] = useState(new Date());\n    const [data, setData] = useState(JSON.parse(\"{}\"));\n    const [viewData, setViewData] = useState('full')\n    const [isLoadingPage, setIsLoadingPage] = useState(false);\n\n    if(cookies.get('currAppleId') === undefined){\n        window.location.href = '/'\n    }\n\n\n    useEffect(() => {\n        setIsLoadingPage(true)\n        HeartSerivce.getUsers(curAppleId).then(response => {\n            let arr = [];\n            Object.keys(response.data).forEach(function(key) {\n                let currDate = moment(response.data[key].date);\n                let HeartRate = {\n                    bpm: response.data[key].bpm,\n                    date: currDate,\n                    user_id: response.data[key].userid\n                }\n                arr.push(HeartRate);\n            });\n            let arrTable = arr.reverse();\n            if(arrTable.length <= 0)\n            {\n                setDatesButtonDis(true);\n                setOpenNoData(true);\n            } else {\n                setLastRec(arrTable[0].bpm);\n                setHeartData(arrTable);\n                let data = [];\n                for(let i = 0; i < arrTable.length; i++){\n                    data.push(createData(i, arrTable[i].bpm, arrTable[i].date.format('lll')));\n                }\n                setRows(data);\n                let chartdata = \"{\";\n                let currAveRate = 0;\n                for(let i = ((page * rowsPerPage)); i < ((page * rowsPerPage) + rowsPerPage); i++){\n                    if(i > arrTable.length - 1)\n                    {\n                        chartdata = chartdata.substr(0, chartdata.length -1);\n                        break; \n                    }\n                    currAveRate += arrTable[i].bpm;\n                    chartdata += '\"' + arrTable[i].date.format('MMM D h:m.s') + '\": ' + arrTable[i].bpm;\n                    if(i !== ((page * rowsPerPage) + rowsPerPage) - 1){\n                        chartdata += \",\";\n                    }\n                }\n                chartdata += \"}\"\n                setData(JSON.parse(chartdata));\n                setAvgRate(Math.round(currAveRate / rowsPerPage));\n            }\n        })\n        setIsLoadingPage(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n        generteGraphData(heartData, rows.length, rowsPerPage, newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n        //updateGraph(0, +event.target.value, heartData);\n        generteGraphData(heartData, rows.length, +event.target.value, page);\n    };\n\n    const handleCloseNoData = () => {\n        setOpenNoData(false);\n    };\n\n    const handleClickOpenDate = () => {\n        setOpenDate(true);\n    };\n\n    const handleCloseDate = () => {\n        let dateFrom = moment(selectedDateFrom);\n        let dateTo = moment(selectedDateTo);\n        if(dateFrom.isAfter(dateTo) || dateTo.isBefore(dateFrom)){\n            alert(\"The date start must not be after the end date or the end date must not be before the start date!\");\n        } else {\n            setOpenDate(false);\n            let tableData = [];\n            let chartData = \"{\";\n            let heartRates = 0;\n            let numRates = 0;\n            for(let i = 0; i < heartData.length; i++){\n                let currDate = heartData[i].date;\n                if(currDate.isAfter(dateFrom) && currDate.isBefore(dateTo)){\n                    heartRates += heartData[i].bpm;\n                    numRates++;\n                    tableData.push(createData(i, heartData[i].bpm, heartData[i].date.format('lll')));\n                    chartData += '\"' + heartData[i].date.format('MMM D, YYYY h:m.s') + '\": ' + heartData[i].bpm + ',';\n                }\n            }\n            if (numRates > 0) {\n                setAvgRate(Math.round(heartRates / numRates))\n                chartData = chartData.substring(0, chartData.length - 1)\n                chartData += \"}\"\n                setRows(tableData);\n                setPage(0);\n                setRowsPerPage(-1);\n                setData(JSON.parse(chartData));\n            } else {\n                setOpenDate(true);\n                alert(\"No data found between those dates\");\n            }\n        }\n    };\n\n    const handleDateChangeFrom = (date) => {\n        setSelectedDateFrom(date);\n    };\n\n    const handleDateChangeTo = (date) => {\n        setSelectedDateTo(date);\n    };\n\n    const handleReset = () => {\n        setOpenDate(false);\n        setRowsPerPage(10)\n        setPage(0);\n        generteGraphData(heartData, heartData.length, 10, 0);\n    }\n\n    const handelRefresh = () => {\n        setViewData(\"full\")\n        HeartSerivce.getUsers(curAppleId).then(response => {\n            let arr = [];\n            Object.keys(response.data).forEach(function(key) {\n                let currDate = moment(response.data[key].date);\n                let HeartRate = {\n                    bpm: response.data[key].bpm,\n                    date: currDate,\n                    user_id: response.data[key].userid\n                }\n                arr.push(HeartRate);\n            });\n            let arrTable = arr.reverse();\n            setLastRec(arrTable[0].bpm);\n            if(arrTable.length <= 0)\n            {\n                setDatesButtonDis(true);\n                setOpenNoData(true);\n            } else {\n                setHeartData(arrTable);\n                let data = [];\n                for(let i = 0; i < arrTable.length; i++){\n                    data.push(createData(i, arrTable[i].bpm, arrTable[i].date.format('lll')));\n                }\n                setRows(data);\n                let chartdata = \"{\";\n                let currAveRate = 0;\n                for(let i = ((page * rowsPerPage)); i < ((page * rowsPerPage) + rowsPerPage); i++){\n                    if(i > arrTable.length - 1)\n                    {\n                        chartdata = chartdata.substr(0, chartdata.length -1);\n                        break; \n                    }\n                    currAveRate += arrTable[i].bpm;\n                    chartdata += '\"' + arrTable[i].date.format('MMM D h:m.s') + '\": ' + arrTable[i].bpm;\n                    if(i !== ((page * rowsPerPage) + rowsPerPage) - 1){\n                        chartdata += \",\";\n                    }\n                }\n                chartdata += \"}\"\n                setData(JSON.parse(chartdata));\n                setAvgRate(Math.round(currAveRate / rowsPerPage));\n            }\n        })\n    }\n\n    const handleTableClick = () => {\n        setViewData(\"table\");\n    }\n\n    const handleGraphClick = () => {\n        setViewData(\"graph\");\n    }\n\n    const generteGraphData = (tableData, length, numElements, page) => {\n        if(numElements !== -1)\n        {\n            let chartdata = \"{\";\n            let currAveRate = 0;\n            for(let i = ((page * numElements)); i < ((page * numElements) + numElements); i++){\n                if(i > tableData.length - 1)\n                {\n                    chartdata = chartdata.substr(0, chartdata.length -1);\n                    break; \n                }\n                currAveRate += tableData[i].bpm;\n                chartdata += '\"' + tableData[i].date.format('MMM D h:m.s') + '\": ' + tableData[i].bpm;\n                if(i !== ((page * numElements) + numElements) - 1){\n                    chartdata += \",\";\n                }\n            }\n            chartdata += \"}\"\n            setData(JSON.parse(chartdata));\n            setAvgRate(Math.round(currAveRate / numElements));\n        } else {\n            let chartdata = \"{\";\n            let currAveRate = 0;\n            for(let i = 0; i < length; i++){\n                currAveRate += tableData[i].bpm;\n                chartdata += '\"' + tableData[i].date.format('MMM D h:m.s') + '\": ' + tableData[i].bpm;\n                if(i !== length - 1){\n                    chartdata += \",\";\n                }\n            }\n            chartdata += \"}\"\n            setData(JSON.parse(chartdata));\n            setAvgRate(Math.round(currAveRate / length));\n        }\n    }\n\n    var body =  <Grid container className={classes.gridClass}>\n                    <Grid item sm={matchWidth ? 6 : 12} style={{padding: '10px', height: '100%'}}>\n                        <Table\n                            rows={rows}\n                            page={page}\n                            rowsPerPage={rowsPerPage}\n                            handleChangePage={handleChangePage}\n                            handleChangeRowsPerPage={handleChangeRowsPerPage}\n                        />\n                    </Grid>\n                    <Grid item sm={matchWidth ? 6 : 12}>\n                        <div style={{padding: '10px'}} >\n                            <Graph data={data}/>\n                        </div>\n                        <Grid container>\n                            <Grid item sm={matchWidthSec ? 6 : 12}>\n                                <div style={{paddingRight: '10px', paddingLeft: '10px', paddingTop: '10px', width: '100%'}}>\n                                    <BPMCard title={\"Average Heart Rate\"} bpm={avgRate}/>\n                                </div>\n                            </Grid>\n                            <Grid item sm={matchWidthSec ? 6 : 12}>\n                                <div style={{paddingRight: '10px', paddingLeft: '10px', paddingTop: '10px', width: '100%'}}>\n                                    <BPMCard title={\"Last Recoded Heart Rate\"} bpm={lastRec}/>\n                                </div>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>;\n    if(viewData === \"table\"){\n        body =  <div style={{padding: '15px', height: '77vh', width: '100%'}}>\n                    <Table \n                        rows={rows}\n                        page={page}\n                        rowsPerPage={rowsPerPage}\n                        handleChangePage={handleChangePage}\n                        handleChangeRowsPerPage={handleChangeRowsPerPage}\n                    />\n                </div>\n    } else if (viewData === \"graph\"){\n        body =  <div style={{padding: '15px', width: '100%'}}>\n                    <Graph height={'66vh'} data={data}/> \n                </div>\n    }\n\n    // var footer = <div className={classes.footerClass}>\n    //             <Footer />\n    //         </div>\n    \n    // if (matchWidthSec){\n    //     footer = <Footer />\n    // }\n\n    var footer = <Footer />\n\n    return (\n        <div>\n            <LoadingPage \n                open={isLoadingPage}\n            />\n            <NoData \n                displayName={displayName}\n                openNoData={openNoData}\n                setOpenNoData={setOpenNoData}\n                handleCloseNoData={handleCloseNoData}\n            />\n            <SelectDates\n                openDate={openDate}\n                handleCloseDate={handleCloseDate}\n                selectedDateFrom={selectedDateFrom}\n                selectedDateTo= {selectedDateTo}\n                handleDateChangeFrom={handleDateChangeFrom}\n                handleDateChangeTo={handleDateChangeTo}\n                handleReset={handleReset}\n            />\n            <SideBar \n                handleTableClick={handleTableClick}\n                handleGraphClick={handleGraphClick}\n            />\n            <div className={classes.content}>\n                <div classes={classes.smallContent}>\n                    <Heading \n                        displayName={displayName}\n                        datesButtonDis={datesButtonDis}\n                        handleClickOpenDate={handleClickOpenDate}\n                        handelRefresh={handelRefresh}\n                    />\n                    {body}\n                </div>\n                {footer}\n            </div>\n        </div>\n    )\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}