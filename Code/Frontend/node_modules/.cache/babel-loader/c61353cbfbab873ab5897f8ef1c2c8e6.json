{"ast":null,"code":"import _slicedToArray from\"/Users/bryceschmisseur/Documents/CST-452/IHeartRate/frontend-fire/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import HeartSerivce from'./../services/HeartRateService';import SideBar from'../components/Navigation/SideBar';import{makeStyles}from'@material-ui/core';import Grid from'@material-ui/core/Grid';import Cookies from'universal-cookie';import BPMCard from'./../components/Dashboard/BPMCard';import Table from'./../components/Dashboard/Table';import Graph from'./../components/Dashboard/Graph';import NoData from'./../components/Dashboard/NoData';import moment from'moment';import Heading from'./../components/Dashboard/Heading';import Footer from'./../components/Navigation/Footer';import useMediaQuery from'@material-ui/core/useMediaQuery';import SelectDates from'./../components/Dashboard/SelectDates';import LoadingPage from'./../components/Navigation/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{content:{paddingTop:'25px',paddingRight:'25px',paddingLeft:'110px','@media (min-width: 900px)':{paddingLeft:'265px'}},welcome:{textAlign:'left',fontWeight:'300',fontSize:'28px'},tableHeight:{height:'100%','@media (min-width:1150px)':{height:'78vh'}},output:{textAlign:'left',fontWeight:'100',fontSize:'22px'},graphStyle:{overflowX:'unset',overflowY:'unset','@media (min-width:600px)':{width:'100%',minWidth:'465px',overflowX:'scroll',overflowY:'hidden'}}};});function createData(unNum,bpm,date){return{unNum:unNum,bpm:bpm,date:date};}var Dashboard=function Dashboard(){var matchWidth=useMediaQuery('(min-width:1150px)');var matchWidthSec=useMediaQuery('(min-width:600px)');var classes=useStyles();var cookies=new Cookies();var curAppleId=cookies.get('currAppleId');var displayName=cookies.get('displayName');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heartData=_useState2[0],setHeartData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),rowsPerPage=_useState8[0],setRowsPerPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),openNoData=_useState10[0],setOpenNoData=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),datesButtonDis=_useState12[0],setDatesButtonDis=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),openDate=_useState14[0],setOpenDate=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),avgRate=_useState16[0],setAvgRate=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),lastRec=_useState18[0],setLastRec=_useState18[1];var _useState19=useState(new Date()),_useState20=_slicedToArray(_useState19,2),selectedDateFrom=_useState20[0],setSelectedDateFrom=_useState20[1];var _useState21=useState(new Date()),_useState22=_slicedToArray(_useState21,2),selectedDateTo=_useState22[0],setSelectedDateTo=_useState22[1];var _useState23=useState(JSON.parse(\"{}\")),_useState24=_slicedToArray(_useState23,2),data=_useState24[0],setData=_useState24[1];var _useState25=useState('full'),_useState26=_slicedToArray(_useState25,2),viewData=_useState26[0],setViewData=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isLoadingPage=_useState28[0],setIsLoadingPage=_useState28[1];useEffect(function(){setIsLoadingPage(true);HeartSerivce.getUsers(curAppleId).then(function(response){var arr=[];Object.keys(response.data).forEach(function(key){var currDate=moment(response.data[key].date);var HeartRate={bpm:response.data[key].bpm,date:currDate,user_id:response.data[key].userid};arr.push(HeartRate);});var arrTable=arr.reverse();setLastRec(arrTable[0].bpm);if(arrTable.length<=0){setDatesButtonDis(true);setOpenNoData(true);}else{setHeartData(arrTable);var _data=[];for(var i=0;i<arrTable.length;i++){_data.push(createData(i,arrTable[i].bpm,arrTable[i].date.format('lll')));}setRows(_data);var chartdata=\"{\";var currAveRate=0;for(var _i=page*rowsPerPage;_i<page*rowsPerPage+rowsPerPage;_i++){if(_i>arrTable.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=arrTable[_i].bpm;chartdata+='\"'+arrTable[_i].date.format('MMM D h:m.s')+'\": '+arrTable[_i].bpm;if(_i!==page*rowsPerPage+rowsPerPage-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/rowsPerPage));}});setIsLoadingPage(false);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);generteGraphData(heartData,rows.length,rowsPerPage,newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);//updateGraph(0, +event.target.value, heartData);\ngenerteGraphData(heartData,rows.length,+event.target.value,page);};var handleCloseNoData=function handleCloseNoData(){setOpenNoData(false);};var handleClickOpenDate=function handleClickOpenDate(){setOpenDate(true);};var handleCloseDate=function handleCloseDate(){var dateFrom=moment(selectedDateFrom);var dateTo=moment(selectedDateTo);if(dateFrom.isAfter(dateTo)||dateTo.isBefore(dateFrom)){alert(\"The date start must not be after the end date or the end date must not be before the start date!\");}else{setOpenDate(false);var tableData=[];var chartData=\"{\";var heartRates=0;var numRates=0;for(var i=0;i<heartData.length;i++){var currDate=heartData[i].date;if(currDate.isAfter(dateFrom)&&currDate.isBefore(dateTo)){heartRates+=heartData[i].bpm;numRates++;tableData.push(createData(i,heartData[i].bpm,heartData[i].date.format('lll')));chartData+='\"'+heartData[i].date.format('MMM D, YYYY h:m.s')+'\": '+heartData[i].bpm+',';}}if(numRates>0){setAvgRate(Math.round(heartRates/numRates));chartData=chartData.substring(0,chartData.length-1);chartData+=\"}\";setRows(tableData);setPage(0);setRowsPerPage(-1);setData(JSON.parse(chartData));}else{setOpenDate(true);alert(\"No data found between those dates\");}}};var handleDateChangeFrom=function handleDateChangeFrom(date){setSelectedDateFrom(date);};var handleDateChangeTo=function handleDateChangeTo(date){setSelectedDateTo(date);};var handleReset=function handleReset(){setOpenDate(false);setRowsPerPage(10);setPage(0);generteGraphData(heartData,heartData.length,rowsPerPage,page);};var handelRefresh=function handelRefresh(){setViewData(\"full\");HeartSerivce.getUsers(curAppleId).then(function(response){var arr=[];Object.keys(response.data).forEach(function(key){var currDate=moment(response.data[key].date);var HeartRate={bpm:response.data[key].bpm,date:currDate,user_id:response.data[key].userid};arr.push(HeartRate);});var arrTable=arr.reverse();setLastRec(arrTable[0].bpm);if(arrTable.length<=0){setDatesButtonDis(true);setOpenNoData(true);}else{setHeartData(arrTable);var _data2=[];for(var i=0;i<arrTable.length;i++){_data2.push(createData(i,arrTable[i].bpm,arrTable[i].date.format('lll')));}setRows(_data2);var chartdata=\"{\";var currAveRate=0;for(var _i2=page*rowsPerPage;_i2<page*rowsPerPage+rowsPerPage;_i2++){if(_i2>arrTable.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=arrTable[_i2].bpm;chartdata+='\"'+arrTable[_i2].date.format('MMM D h:m.s')+'\": '+arrTable[_i2].bpm;if(_i2!==page*rowsPerPage+rowsPerPage-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/rowsPerPage));}});};var handleTableClick=function handleTableClick(){setViewData(\"table\");};var handleGraphClick=function handleGraphClick(){setViewData(\"graph\");};var generteGraphData=function generteGraphData(tableData,length,numElements,page){if(numElements!==-1){var chartdata=\"{\";var currAveRate=0;for(var i=page*numElements;i<page*numElements+numElements;i++){if(i>tableData.length-1){chartdata=chartdata.substr(0,chartdata.length-1);break;}currAveRate+=tableData[i].bpm;chartdata+='\"'+tableData[i].date.format('MMM D h:m.s')+'\": '+tableData[i].bpm;if(i!==page*numElements+numElements-1){chartdata+=\",\";}}chartdata+=\"}\";setData(JSON.parse(chartdata));setAvgRate(Math.round(currAveRate/numElements));}else{var _chartdata=\"{\";var _currAveRate=0;for(var _i3=0;_i3<length;_i3++){_currAveRate+=tableData[_i3].bpm;_chartdata+='\"'+tableData[_i3].date.format('MMM D h:m.s')+'\": '+tableData[_i3].bpm;if(_i3!==length-1){_chartdata+=\",\";}}_chartdata+=\"}\";setData(JSON.parse(_chartdata));setAvgRate(Math.round(_currAveRate/length));}};var body=/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidth?6:12,className:classes.tableHeight,children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px',height:'100%',minHeight:'78vh'},children:/*#__PURE__*/_jsx(Table,{rows:rows,page:page,rowsPerPage:rowsPerPage,handleChangePage:handleChangePage,handleChangeRowsPerPage:handleChangeRowsPerPage})})}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:matchWidth?6:12,style:{height:'78vh'},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.graphStyle,style:{padding:'10px'},children:/*#__PURE__*/_jsx(Graph,{data:data})}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidthSec?6:12,children:/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:'10px',paddingLeft:'10px',paddingTop:'10px',width:'100%',minHeight:'100%'},children:/*#__PURE__*/_jsx(BPMCard,{title:\"Average Heart Rate\",bpm:avgRate})})}),/*#__PURE__*/_jsx(Grid,{item:true,sm:matchWidthSec?6:12,children:/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:'10px',paddingLeft:'10px',paddingTop:'10px',minHeight:'100%'},children:/*#__PURE__*/_jsx(BPMCard,{title:\"Last Recoded Heart Rate\",bpm:lastRec})})})]})]})]});if(viewData===\"table\"){body=/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',height:'78vh',width:'100%'},children:/*#__PURE__*/_jsx(Table,{rows:rows,page:page,rowsPerPage:rowsPerPage,handleChangePage:handleChangePage,handleChangeRowsPerPage:handleChangeRowsPerPage})});}else if(viewData===\"graph\"){body=/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',height:'78vh',width:'100%'},children:/*#__PURE__*/_jsx(Graph,{data:data})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LoadingPage,{open:isLoadingPage}),/*#__PURE__*/_jsx(NoData,{displayName:displayName,openNoData:openNoData,setOpenNoData:setOpenNoData,handleCloseNoData:handleCloseNoData}),/*#__PURE__*/_jsx(SelectDates,{openDate:openDate,handleCloseDate:handleCloseDate,selectedDateFrom:selectedDateFrom,selectedDateTo:selectedDateTo,handleDateChangeFrom:handleDateChangeFrom,handleDateChangeTo:handleDateChangeTo,handleReset:handleReset}),/*#__PURE__*/_jsx(SideBar,{handleTableClick:handleTableClick,handleGraphClick:handleGraphClick}),/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:/*#__PURE__*/_jsxs(Grid,{children:[/*#__PURE__*/_jsx(Heading,{displayName:displayName,datesButtonDis:datesButtonDis,handleClickOpenDate:handleClickOpenDate,handelRefresh:handelRefresh}),body,/*#__PURE__*/_jsx(Footer,{})]})})]});};export default Dashboard;","map":{"version":3,"sources":["/Users/bryceschmisseur/Documents/CST-452/IHeartRate/frontend-fire/src/pages/Dashboard.js"],"names":["useState","useEffect","HeartSerivce","SideBar","makeStyles","Grid","Cookies","BPMCard","Table","Graph","NoData","moment","Heading","Footer","useMediaQuery","SelectDates","LoadingPage","useStyles","theme","content","paddingTop","paddingRight","paddingLeft","welcome","textAlign","fontWeight","fontSize","tableHeight","height","output","graphStyle","overflowX","overflowY","width","minWidth","createData","unNum","bpm","date","Dashboard","matchWidth","matchWidthSec","classes","cookies","curAppleId","get","displayName","heartData","setHeartData","rows","setRows","page","setPage","rowsPerPage","setRowsPerPage","openNoData","setOpenNoData","datesButtonDis","setDatesButtonDis","openDate","setOpenDate","avgRate","setAvgRate","lastRec","setLastRec","Date","selectedDateFrom","setSelectedDateFrom","selectedDateTo","setSelectedDateTo","JSON","parse","data","setData","viewData","setViewData","isLoadingPage","setIsLoadingPage","getUsers","then","response","arr","Object","keys","forEach","key","currDate","HeartRate","user_id","userid","push","arrTable","reverse","length","i","format","chartdata","currAveRate","substr","Math","round","handleChangePage","event","newPage","generteGraphData","handleChangeRowsPerPage","target","value","handleCloseNoData","handleClickOpenDate","handleCloseDate","dateFrom","dateTo","isAfter","isBefore","alert","tableData","chartData","heartRates","numRates","substring","handleDateChangeFrom","handleDateChangeTo","handleReset","handelRefresh","handleTableClick","handleGraphClick","numElements","body","padding","minHeight"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport HeartSerivce from './../services/HeartRateService';\nimport SideBar from '../components/Navigation/SideBar';\nimport { makeStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport Cookies from 'universal-cookie';\nimport BPMCard from './../components/Dashboard/BPMCard';\nimport Table from './../components/Dashboard/Table';\nimport Graph from './../components/Dashboard/Graph';\nimport NoData from './../components/Dashboard/NoData';\nimport moment from 'moment';\nimport Heading from './../components/Dashboard/Heading';\nimport Footer from './../components/Navigation/Footer';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport SelectDates from './../components/Dashboard/SelectDates';\nimport LoadingPage from './../components/Navigation/Loading';\n\n\nconst useStyles = makeStyles((theme) => ({\n    content: {\n        paddingTop: '25px',\n        paddingRight: '25px',\n        paddingLeft: '110px',\n        '@media (min-width: 900px)': {\n            paddingLeft: '265px',\n          }, \n    },\n    welcome: {\n        textAlign: 'left',\n        fontWeight: '300',\n        fontSize: '28px'\n    },\n    tableHeight: {\n        height: '100%',\n        '@media (min-width:1150px)': {\n            height: '78vh'\n        },\n    },\n    output: {\n        textAlign: 'left',\n        fontWeight: '100',\n        fontSize: '22px'\n    },\n    graphStyle: {\n        overflowX: 'unset',\n        overflowY: 'unset',\n        '@media (min-width:600px)': {\n            width: '100%',\n            minWidth: '465px', \n            overflowX: 'scroll',\n            overflowY: 'hidden',\n        }, \n    }\n}));\n\nfunction createData(unNum, bpm, date) {\n    return {unNum, bpm, date };\n}\n\nconst Dashboard = () => {\n    const matchWidth = useMediaQuery('(min-width:1150px)');\n    const matchWidthSec = useMediaQuery('(min-width:600px)');\n\n    const classes = useStyles();\n    const cookies = new Cookies();\n    const curAppleId = cookies.get('currAppleId');\n    const displayName = cookies.get('displayName');\n    const [heartData, setHeartData] = useState([]);\n    const [rows, setRows] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [openNoData, setOpenNoData] = useState(false);\n    const [datesButtonDis, setDatesButtonDis] = useState(false);\n    const [openDate, setOpenDate] = useState(false);\n    const [avgRate, setAvgRate] = useState(0);\n    const [lastRec, setLastRec] = useState(0);\n    const [selectedDateFrom, setSelectedDateFrom] = useState(new Date());\n    const [selectedDateTo, setSelectedDateTo] = useState(new Date());\n    const [data, setData] = useState(JSON.parse(\"{}\"));\n    const [viewData, setViewData] = useState('full')\n    const [isLoadingPage, setIsLoadingPage] = useState(false);\n\n\n    useEffect(() => {\n        setIsLoadingPage(true);\n        HeartSerivce.getUsers(curAppleId).then(response => {\n            let arr = [];\n            Object.keys(response.data).forEach(function(key) {\n                let currDate = moment(response.data[key].date);\n                let HeartRate = {\n                    bpm: response.data[key].bpm,\n                    date: currDate,\n                    user_id: response.data[key].userid\n                }\n                arr.push(HeartRate);\n            });\n            let arrTable = arr.reverse();\n            setLastRec(arrTable[0].bpm);\n            if(arrTable.length <= 0)\n            {\n                setDatesButtonDis(true);\n                setOpenNoData(true);\n            } else {\n                setHeartData(arrTable);\n                let data = [];\n                for(let i = 0; i < arrTable.length; i++){\n                    data.push(createData(i, arrTable[i].bpm, arrTable[i].date.format('lll')));\n                }\n                setRows(data);\n                let chartdata = \"{\";\n                let currAveRate = 0;\n                for(let i = ((page * rowsPerPage)); i < ((page * rowsPerPage) + rowsPerPage); i++){\n                    if(i > arrTable.length - 1)\n                    {\n                        chartdata = chartdata.substr(0, chartdata.length -1);\n                        break; \n                    }\n                    currAveRate += arrTable[i].bpm;\n                    chartdata += '\"' + arrTable[i].date.format('MMM D h:m.s') + '\": ' + arrTable[i].bpm;\n                    if(i !== ((page * rowsPerPage) + rowsPerPage) - 1){\n                        chartdata += \",\";\n                    }\n                }\n                chartdata += \"}\"\n                setData(JSON.parse(chartdata));\n                setAvgRate(Math.round(currAveRate / rowsPerPage));\n            }\n        })\n        setIsLoadingPage(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n        generteGraphData(heartData, rows.length, rowsPerPage, newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n        //updateGraph(0, +event.target.value, heartData);\n        generteGraphData(heartData, rows.length, +event.target.value, page);\n    };\n\n    const handleCloseNoData = () => {\n        setOpenNoData(false);\n    };\n\n    const handleClickOpenDate = () => {\n        setOpenDate(true);\n    };\n\n    const handleCloseDate = () => {\n        let dateFrom = moment(selectedDateFrom);\n        let dateTo = moment(selectedDateTo);\n        if(dateFrom.isAfter(dateTo) || dateTo.isBefore(dateFrom)){\n            alert(\"The date start must not be after the end date or the end date must not be before the start date!\");\n        } else {\n            setOpenDate(false);\n            let tableData = [];\n            let chartData = \"{\";\n            let heartRates = 0;\n            let numRates = 0;\n            for(let i = 0; i < heartData.length; i++){\n                let currDate = heartData[i].date;\n                if(currDate.isAfter(dateFrom) && currDate.isBefore(dateTo)){\n                    heartRates += heartData[i].bpm;\n                    numRates++;\n                    tableData.push(createData(i, heartData[i].bpm, heartData[i].date.format('lll')));\n                    chartData += '\"' + heartData[i].date.format('MMM D, YYYY h:m.s') + '\": ' + heartData[i].bpm + ',';\n                }\n            }\n            if (numRates > 0) {\n                setAvgRate(Math.round(heartRates / numRates))\n                chartData = chartData.substring(0, chartData.length - 1)\n                chartData += \"}\"\n                setRows(tableData);\n                setPage(0);\n                setRowsPerPage(-1);\n                setData(JSON.parse(chartData));\n            } else {\n                setOpenDate(true);\n                alert(\"No data found between those dates\");\n            }\n        }\n    };\n\n    const handleDateChangeFrom = (date) => {\n        setSelectedDateFrom(date);\n    };\n\n    const handleDateChangeTo = (date) => {\n        setSelectedDateTo(date);\n    };\n\n    const handleReset = () => {\n        setOpenDate(false);\n        setRowsPerPage(10)\n        setPage(0);\n        generteGraphData(heartData, heartData.length, rowsPerPage, page);\n    }\n\n    const handelRefresh = () => {\n        setViewData(\"full\")\n        HeartSerivce.getUsers(curAppleId).then(response => {\n            let arr = [];\n            Object.keys(response.data).forEach(function(key) {\n                let currDate = moment(response.data[key].date);\n                let HeartRate = {\n                    bpm: response.data[key].bpm,\n                    date: currDate,\n                    user_id: response.data[key].userid\n                }\n                arr.push(HeartRate);\n            });\n            let arrTable = arr.reverse();\n            setLastRec(arrTable[0].bpm);\n            if(arrTable.length <= 0)\n            {\n                setDatesButtonDis(true);\n                setOpenNoData(true);\n            } else {\n                setHeartData(arrTable);\n                let data = [];\n                for(let i = 0; i < arrTable.length; i++){\n                    data.push(createData(i, arrTable[i].bpm, arrTable[i].date.format('lll')));\n                }\n                setRows(data);\n                let chartdata = \"{\";\n                let currAveRate = 0;\n                for(let i = ((page * rowsPerPage)); i < ((page * rowsPerPage) + rowsPerPage); i++){\n                    if(i > arrTable.length - 1)\n                    {\n                        chartdata = chartdata.substr(0, chartdata.length -1);\n                        break; \n                    }\n                    currAveRate += arrTable[i].bpm;\n                    chartdata += '\"' + arrTable[i].date.format('MMM D h:m.s') + '\": ' + arrTable[i].bpm;\n                    if(i !== ((page * rowsPerPage) + rowsPerPage) - 1){\n                        chartdata += \",\";\n                    }\n                }\n                chartdata += \"}\"\n                setData(JSON.parse(chartdata));\n                setAvgRate(Math.round(currAveRate / rowsPerPage));\n            }\n        })\n    }\n\n    const handleTableClick = () => {\n        setViewData(\"table\");\n    }\n\n    const handleGraphClick = () => {\n        setViewData(\"graph\");\n    }\n\n    const generteGraphData = (tableData, length, numElements, page) => {\n        if(numElements !== -1)\n        {\n            let chartdata = \"{\";\n            let currAveRate = 0;\n            for(let i = ((page * numElements)); i < ((page * numElements) + numElements); i++){\n                if(i > tableData.length - 1)\n                {\n                    chartdata = chartdata.substr(0, chartdata.length -1);\n                    break; \n                }\n                currAveRate += tableData[i].bpm;\n                chartdata += '\"' + tableData[i].date.format('MMM D h:m.s') + '\": ' + tableData[i].bpm;\n                if(i !== ((page * numElements) + numElements) - 1){\n                    chartdata += \",\";\n                }\n            }\n            chartdata += \"}\"\n            setData(JSON.parse(chartdata));\n            setAvgRate(Math.round(currAveRate / numElements));\n        } else {\n            let chartdata = \"{\";\n            let currAveRate = 0;\n            for(let i = 0; i < length; i++){\n                currAveRate += tableData[i].bpm;\n                chartdata += '\"' + tableData[i].date.format('MMM D h:m.s') + '\": ' + tableData[i].bpm;\n                if(i !== length - 1){\n                    chartdata += \",\";\n                }\n            }\n            chartdata += \"}\"\n            setData(JSON.parse(chartdata));\n            setAvgRate(Math.round(currAveRate / length));\n        }\n    }\n\n    var body =  <Grid container>\n                    <Grid item sm={matchWidth ? 6 : 12} className={classes.tableHeight}>\n                    <div style={{padding: '10px', height: '100%', minHeight: '78vh'}}>\n                        <Table \n                            rows={rows}\n                            page={page}\n                            rowsPerPage={rowsPerPage}\n                            handleChangePage={handleChangePage}\n                            handleChangeRowsPerPage={handleChangeRowsPerPage}\n                        />\n                    </div>\n                </Grid>\n                <Grid item sm={matchWidth ? 6 : 12} style={{height: '78vh'}}>\n                    <div className={classes.graphStyle} style={{padding: '10px'}} >\n                        <Graph data={data}/>\n                    </div>\n                    <Grid container>\n                        <Grid item sm={matchWidthSec ? 6 : 12} >\n                            <div style={{paddingRight: '10px', paddingLeft: '10px', paddingTop: '10px', width: '100%', minHeight: '100%'}}>\n                                <BPMCard title={\"Average Heart Rate\"} bpm={avgRate}/>\n                            </div>\n                        </Grid>\n                        <Grid item sm={matchWidthSec ? 6 : 12}>\n                            <div style={{paddingRight: '10px', paddingLeft: '10px', paddingTop: '10px', minHeight: '100%'}}>\n                                <BPMCard title={\"Last Recoded Heart Rate\"} bpm={lastRec}/>\n                            </div>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>;\n\n    if(viewData === \"table\"){\n        body =  <div style={{padding: '15px', height: '78vh', width: '100%'}}>\n                    <Table \n                        rows={rows}\n                        page={page}\n                        rowsPerPage={rowsPerPage}\n                        handleChangePage={handleChangePage}\n                        handleChangeRowsPerPage={handleChangeRowsPerPage}\n                    />\n                </div>\n    } else if (viewData === \"graph\"){\n        body =  <div style={{padding: '15px', height: '78vh', width: '100%'}}>\n                    <Graph data={data}/> \n                </div>\n    }\n\n    return (\n        <div>\n            <LoadingPage \n                open={isLoadingPage}\n            />\n            <NoData \n                displayName={displayName}\n                openNoData={openNoData}\n                setOpenNoData={setOpenNoData}\n                handleCloseNoData={handleCloseNoData}\n            />\n            <SelectDates\n                openDate={openDate}\n                handleCloseDate={handleCloseDate}\n                selectedDateFrom={selectedDateFrom}\n                selectedDateTo= {selectedDateTo}\n                handleDateChangeFrom={handleDateChangeFrom}\n                handleDateChangeTo={handleDateChangeTo}\n                handleReset={handleReset}\n            />\n            <SideBar \n                handleTableClick={handleTableClick}\n                handleGraphClick={handleGraphClick}\n            />\n            <div className={classes.content}>\n                <Grid>\n                    <Heading \n                        displayName={displayName}\n                        datesButtonDis={datesButtonDis}\n                        handleClickOpenDate={handleClickOpenDate}\n                        handelRefresh={handelRefresh}\n                    />\n                    {body}\n                    <Footer/>\n                </Grid>\n            </div>\n        </div>\n    )\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}